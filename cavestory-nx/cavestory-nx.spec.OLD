Summary: Cave Story NX
Name: cavestory-nx
Version: 1.3.1
Release: 4%{?dist}
License: CCmark+
URL: https://gitlab.com/coringao/cavestory-nx
Source: %url/archive/%{version}/%{name}-%{version}.tar.gz

BuildRequires: gcc
BuildRequires: g++
BuildRequires: cmake
BuildRequires: libpng-devel
BuildRequires: SDL2-devel
BuildRequires: SDL2_mixer-devel
BuildRequires: ImageMagick
BuildRequires: zlib-devel
BuildRequires: libpng-devel

Requires: gtk3
Requires: hicolor-icon-theme

%description
Cave Story NX is a nostalgic side-action adventure game
to jump and shoot, using the modified NXEngine-evo[1] engine.

%global debug_package %{nil}

%prep
%setup -q

%build
mkdir -p build
cd build
cmake ..
make -j4

%install
mkdir -p %{buildroot}/%{_bindir}/
mkdir -p %{buildroot}/%{_datadir}/applications/
mkdir -p %{buildroot}/%{_datadir}/icons/hicolor/512x512/apps/
cp cavestory-nx %{buildroot}/%{_bindir}/
cp cavestory-nx.desktop %{buildroot}/%{_datadir}/applications/
cp cavestory-nx.png %{buildroot}/%{_datadir}/icons/hicolor/512x512/apps/

%files 
%{_bindir}/cavestory-nx
%{_datadir}/applications/cavestory-nx.desktop
%{_datadir}/icons/hicolor/512x512/apps/cavestory-nx.png

%changelog
* Mon Sep 07 2020 Elagost <me@elagost.com>
- Created spec file
